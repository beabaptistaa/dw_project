{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _utils = require('../utils');\nvar getDataFromHtml = function getDataFromHtml(html, containers) {\n  var fakeDom = document.createElement('html');\n  fakeDom.innerHTML = html;\n  var blocks = [];\n  containers.forEach(function (selector) {\n    if ((0, _utils.query)(selector, fakeDom) == null) {\n      console.warn('[swup] Container ' + selector + ' not found on page.');\n      return null;\n    } else {\n      if ((0, _utils.queryAll)(selector).length !== (0, _utils.queryAll)(selector, fakeDom).length) {\n        console.warn('[swup] Mismatched number of containers found on new page.');\n      }\n      (0, _utils.queryAll)(selector).forEach(function (item, index) {\n        (0, _utils.queryAll)(selector, fakeDom)[index].setAttribute('data-swup', blocks.length);\n        blocks.push((0, _utils.queryAll)(selector, fakeDom)[index].outerHTML);\n      });\n    }\n  });\n  var json = {\n    title: (fakeDom.querySelector('title') || {}).innerText,\n    pageClass: fakeDom.querySelector('body').className,\n    originalContent: html,\n    blocks: blocks\n  };\n\n  // to prevent memory leaks\n  fakeDom.innerHTML = '';\n  fakeDom = null;\n  return json;\n};\nexports.default = getDataFromHtml;","map":{"version":3,"names":["Object","defineProperty","exports","value","_utils","require","getDataFromHtml","html","containers","fakeDom","document","createElement","innerHTML","blocks","forEach","selector","query","console","warn","queryAll","length","item","index","setAttribute","push","outerHTML","json","title","querySelector","innerText","pageClass","className","originalContent","default"],"sources":["/Users/beatrizbaptista/Desktop/mestrado/DW/projeto/code/node_modules/swup/lib/helpers/getDataFromHtml.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _utils = require('../utils');\n\nvar getDataFromHtml = function getDataFromHtml(html, containers) {\n\tvar fakeDom = document.createElement('html');\n\tfakeDom.innerHTML = html;\n\tvar blocks = [];\n\n\tcontainers.forEach(function (selector) {\n\t\tif ((0, _utils.query)(selector, fakeDom) == null) {\n\t\t\tconsole.warn('[swup] Container ' + selector + ' not found on page.');\n\t\t\treturn null;\n\t\t} else {\n\t\t\tif ((0, _utils.queryAll)(selector).length !== (0, _utils.queryAll)(selector, fakeDom).length) {\n\t\t\t\tconsole.warn('[swup] Mismatched number of containers found on new page.');\n\t\t\t}\n\t\t\t(0, _utils.queryAll)(selector).forEach(function (item, index) {\n\t\t\t\t(0, _utils.queryAll)(selector, fakeDom)[index].setAttribute('data-swup', blocks.length);\n\t\t\t\tblocks.push((0, _utils.queryAll)(selector, fakeDom)[index].outerHTML);\n\t\t\t});\n\t\t}\n\t});\n\n\tvar json = {\n\t\ttitle: (fakeDom.querySelector('title') || {}).innerText,\n\t\tpageClass: fakeDom.querySelector('body').className,\n\t\toriginalContent: html,\n\t\tblocks: blocks\n\t};\n\n\t// to prevent memory leaks\n\tfakeDom.innerHTML = '';\n\tfakeDom = null;\n\n\treturn json;\n};\n\nexports.default = getDataFromHtml;"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC5CC,KAAK,EAAE;AACR,CAAC,CAAC;AAEF,IAAIC,MAAM,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEhC,IAAIC,eAAe,GAAG,SAASA,eAAe,CAACC,IAAI,EAAEC,UAAU,EAAE;EAChE,IAAIC,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;EAC5CF,OAAO,CAACG,SAAS,GAAGL,IAAI;EACxB,IAAIM,MAAM,GAAG,EAAE;EAEfL,UAAU,CAACM,OAAO,CAAC,UAAUC,QAAQ,EAAE;IACtC,IAAI,CAAC,CAAC,EAAEX,MAAM,CAACY,KAAK,EAAED,QAAQ,EAAEN,OAAO,CAAC,IAAI,IAAI,EAAE;MACjDQ,OAAO,CAACC,IAAI,CAAC,mBAAmB,GAAGH,QAAQ,GAAG,qBAAqB,CAAC;MACpE,OAAO,IAAI;IACZ,CAAC,MAAM;MACN,IAAI,CAAC,CAAC,EAAEX,MAAM,CAACe,QAAQ,EAAEJ,QAAQ,CAAC,CAACK,MAAM,KAAK,CAAC,CAAC,EAAEhB,MAAM,CAACe,QAAQ,EAAEJ,QAAQ,EAAEN,OAAO,CAAC,CAACW,MAAM,EAAE;QAC7FH,OAAO,CAACC,IAAI,CAAC,2DAA2D,CAAC;MAC1E;MACA,CAAC,CAAC,EAAEd,MAAM,CAACe,QAAQ,EAAEJ,QAAQ,CAAC,CAACD,OAAO,CAAC,UAAUO,IAAI,EAAEC,KAAK,EAAE;QAC7D,CAAC,CAAC,EAAElB,MAAM,CAACe,QAAQ,EAAEJ,QAAQ,EAAEN,OAAO,CAAC,CAACa,KAAK,CAAC,CAACC,YAAY,CAAC,WAAW,EAAEV,MAAM,CAACO,MAAM,CAAC;QACvFP,MAAM,CAACW,IAAI,CAAC,CAAC,CAAC,EAAEpB,MAAM,CAACe,QAAQ,EAAEJ,QAAQ,EAAEN,OAAO,CAAC,CAACa,KAAK,CAAC,CAACG,SAAS,CAAC;MACtE,CAAC,CAAC;IACH;EACD,CAAC,CAAC;EAEF,IAAIC,IAAI,GAAG;IACVC,KAAK,EAAE,CAAClB,OAAO,CAACmB,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,EAAEC,SAAS;IACvDC,SAAS,EAAErB,OAAO,CAACmB,aAAa,CAAC,MAAM,CAAC,CAACG,SAAS;IAClDC,eAAe,EAAEzB,IAAI;IACrBM,MAAM,EAAEA;EACT,CAAC;;EAED;EACAJ,OAAO,CAACG,SAAS,GAAG,EAAE;EACtBH,OAAO,GAAG,IAAI;EAEd,OAAOiB,IAAI;AACZ,CAAC;AAEDxB,OAAO,CAAC+B,OAAO,GAAG3B,eAAe"},"metadata":{},"sourceType":"script","externalDependencies":[]}